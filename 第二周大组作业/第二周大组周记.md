# 第二周大组周记

## 栈在表达式计算中的应用

### 1. 中缀表达式

由三部分组成：操作数，运算符，界限符

### 2. 波兰表达式(前缀表达式)

中缀转前缀的手算方法：
① 确定中缀表达式中各个运算符的运算顺序
② 选择下一个运算符，按照「运算符 左操作数 右操作数」的方式组合成一个新的操作数
③ 如果还有运算符没被处理，就继续②

“右优先”原则：只要右边的运算符能先计算，就优先算右边的

用栈实现前缀表达式的计算：
①从右往左扫描下一个元素，直到处理完所有元素
②若扫描到操作数则压入栈，并回到①：否则执行③
③若扫描到运算符，则弹出两个栈顶元素，执行相应运算，运算结果压回栈顶，回到①

### 3. 逆波兰表达式(后缀表达式)

中缀转后缀的手算方法：
① 确定中缀表达式中各个运算符的运算顺序
② 选择下一个运算符，按照「左操作数 右操作数 运算符」的方式组合成一个新的操作数
③ 如果还有运算符没被处理，就继续②

“左优先”原则：只要左边的运算符能先计算，就先算左边的

用栈实现后缀表达式的计算：
①从左往右扫描下一个元素，直到处理完所有元素
②若扫描到操作数则压入栈，并回到①；否则执行③
③若扫描到运算符，则弹出两个栈顶元素，执行相应运算，运算结果压回栈顶，回到①

| 中缀表达式 | 后缀表达式 | 前缀表达式 |
| ---------- | ---------- | ---------- |
| a+b        | ab+        | +ab        |
| a+b-c      | ab+c-      | -+abc      |
| a+b-c*d    | ab+cd*-    | -+ab*cd    |



![](C:\Users\shdn\Desktop\第二周作业\屏幕截图 2025-03-22 230542.png)

### 4.  中缀表达式转后缀表达式

初始化一个栈，用于保存暂时还不能确定运算顺序的运算符。
从左到右处理各个元素，直到末尾。可能遇到三种情况：
① 遇到操作数。直接加入后缀表达式。
② 遇到界限符。遇到“（”直接入栈；遇到“）”则依次弹出栈内运算符并加入后缀表达式，直到弹出“（”为止。注意：“（”不加入后缀表达式。
③ 遇到运算符。依次弹出栈中优先级高于或等于当前运算符的所有运算符，并加入后缀表达式，若碰到“（”或栈空则停止。之后再把当前运算符入栈。
按上述方法处理完所有字符后，将栈中剩余运算符依次弹出，并加入后缀表达式。

### 5. 中缀表达式的计算

用栈实现中缀表达式的计算：
初始化两个栈，操作数栈和运算符栈
两个算法的结合
若扫描到操作数，压入操作数栈
若扫描到运算符或界限符，则按照“中缀转后缀”相同的逻辑压入运算符栈（期间也会弹出运算符，每当弹出一个运算符时，就需要再弹出两个操作数栈的栈顶元素并执行相应运算，运算结果再压回操作数栈）





